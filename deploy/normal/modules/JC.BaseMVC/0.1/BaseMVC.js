(function(e,t){e(["JC.common"],function(){return function(e){function t(e){throw new Error("JC.BaseMVC is an abstract class, can't initialize!")}window.BaseMVC=JC.BaseMVC=t,t.prototype={_init:function(){var t=this;return t._beforeInit(),t._initHanlderEvent(),e([t._view,t._model]).on("BindEvent",function(e,n,r){t.on(n,r)}),e([t._view,t._model]).on("TriggerEvent",function(e,n){var r=JC.f.sliceArgs(arguments).slice(2);t.trigger(n,r)}),t._model.init(),t._view&&t._view.init(),t._inited(),t},_beforeInit:function(){},_initHanlderEvent:function(){},_inited:function(){},selector:function(){return this._model.selector()},on:function(t,n){return e(this).on(t,n),this},trigger:function(t,n){return e(this).trigger(t,n),this}},t.getInstance=function(t,n,r){return typeof t=="string"&&!/</.test(t)&&(t=e(t)),!t||!t.length||typeof t=="string"?null:(n.Model._instanceName=n.Model._instanceName||"CommonIns",typeof r!="undefined"&&t.data(n.Model._instanceName,r),t.data(n.Model._instanceName))},t.autoInit=!0,t.build=function(e){t.buildModel(e),t.buildView(e),t.buildClass(t,e),t.buildClass(t.Model,e.Model),t.buildClass(t.View,e.View)},t.buildClass=function(e,t){if(!e||!t)return;var n,r,i;if(t){for(n in e)t[n]||e[n].constructor!=Function&&(t[n]=e[n]);for(n in e.prototype)!t.prototype[n]&&(t.prototype[n]=e.prototype[n])}},t.buildModel=function(e){!e.Model&&(e.Model=function(e){this._selector=e},e.Model._instanceName="CommonIns")},t.buildView=function(e){!e.View&&(e.View=function(e){this._model=e})},t.buildModel(t),t.buildView(t),t.Model._instanceName="BaseMVCIns",JC.f.extendObject(t.Model.prototype,{init:function(){return this},selector:function(e){return typeof e!="undefined"&&(this._selector=e),this._selector},intProp:function(t,n){typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var r=0;return t&&t.is("["+n+"]")&&(r=parseInt(t.attr(n).trim(),10)||r),r},floatProp:function(t,n){typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var r=0;return t&&t.is("["+n+"]")&&(r=parseFloat(t.attr(n).trim())||r),r},stringProp:function(t,n){typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var r=(this.attrProp(t,n)||"").toLowerCase();return r},attrProp:function(t,n){typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var r="";return t&&t.is("["+n+"]")&&(r=t.attr(n).trim()),r},boolProp:function(t,n,r){typeof n=="boolean"?(r=n,n=t,t=this.selector()):typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var i=undefined;return t&&t.is("["+n+"]")&&(i=JC.f.parseBool(t.attr(n).trim())),i},callbackProp:function(t,n){typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t));var r,i;return t&&t.is("["+n+"]")&&(i=window[t.attr(n)])&&(r=i),r},selectorProp:function(t,n){var r;return typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t)),t&&t.is("["+n+"]")&&(r=JC.f.parentSelector(t,t.attr(n))),r},is:function(t,n){return typeof n=="undefined"?(n=t,t=this.selector()):t&&(t=e(t)),t&&t.is(n)}}),JC.f.extendObject(t.View.prototype,{init:function(){return this}})}(jQuery),JC.BaseMVC})})(typeof define=="function"&&define.amd?define:function(e,t,n){typeof e=="function"&&(n=e),typeof t=="function"&&(n=t),n&&n()},window);