(function(b,a){b(["JC.common"],function(){(function(e){window.JC=window.JC||{log:function(){}};window.Panel=JC.Panel=d;function d(i,k,l,j){typeof i=="string"&&(i=i.trim().replace(/[\r\n]+/g,""));typeof k=="string"&&(k=k.trim().replace(/[\r\n]+/g,""));typeof l=="string"&&(l=l.trim().replace(/[\r\n]+/g,""));if(d.getInstance(i)){return d.getInstance(i)}this._model=new h(i,k,l,j);this._view=new g(this._model);this._init()}d.getInstance=function(i){if(typeof i=="string"&&!/</.test(i)){i=e(i)}if(i&&typeof i=="string"){return}return e(i).data("PanelInstace")};d.focusButton=true;d.clickClose=true;d.autoCloseMs=2000;d._fixWidth=function(n,m,k,l){var j=e('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+n+"</div>").appendTo("body"),i=j.width()+80;j.remove();k=k||200;l=l||500;i>l&&(i=l);i<k&&(i=k);m.selector().css("width",i)};d._getButton=function(i){var j=[];if(i){j.push('<div style="text-align:center" class="UButton"> ');if(i>=1){j.push('<button type="button" eventtype="confirm">确定</button>')}if(i>=2){j.push('<button type="button" eventtype="cancel">取消</button>')}j.push("</div>")}return j.join("")};d.prototype={_init:function(){var i=this;i._view.getPanel().data("PanelInstace",i);i._model.addEvent("close_default",function(j,k){k._view.close()});i._model.addEvent("show_default",function(j,k){k._view.show()});i._model.addEvent("hide_default",function(j,k){k._view.hide()});i._model.addEvent("confirm_default",function(j,k){k.trigger("close")});i._model.addEvent("cancel_default",function(j,k){k.trigger("close")});i._model.panelautoclose()&&i.autoClose();return i},on:function(j,i){j&&i&&this._model.addEvent(j,i);return this},show:function(j,k){var i=this;setTimeout(function(){switch(typeof j){case"number":switch(j){case 0:i.center();break}break;case"object":j=e(j);j.length&&i._view.positionWith(j,k);if(!i._model.bindedPositionWithEvent){i._model.bindedPositionWithEvent=true;var l=function(){i.positionWith(j,k)};e(window).on("resize",l);i.on("close",function(){i._model.bindedPositionWithEvent=false;e(window).unbind("resize",l)})}break}},10);this.trigger("beforeshow",this._view.getPanel());this.trigger("show",this._view.getPanel());return this},positionWith:function(j,i){j=e(j);j&&j.length&&this._view.positionWith(j,i);return this},hide:function(){this.trigger("beforehide",this._view.getPanel());this.trigger("hide",this._view.getPanel());return this},close:function(){JC.log("Panel.close");this.trigger("beforeclose",this._view.getPanel());this.trigger("close",this._view.getPanel());return this},isClickClose:function(){return this._model.panelclickclose()},clickClose:function(i){i&&this.layout()&&this.layout().removeAttr("panelclickclose");!i&&this.layout()&&this.layout().attr("panelclickclose",true);return this},addAutoClose:function(){this.clickClose.apply(this,JC.f.sliceArgs(arguments));return this},autoClose:function(j,l){if(typeof j=="number"){l=j;j=null}var i=this,k;l=i._model.panelautoclosems(l);d._autoCloseTimeout&&clearTimeout(d._autoCloseTimeout);i.on("close",function(){d._autoCloseTimeout&&clearTimeout(d._autoCloseTimeout)});d._autoCloseTimeout=setTimeout(function(){j&&i.on("close",j);i.close()},l);return this},focusButton:function(){this._view.focusButton();return this},dispose:function(){JC.log("Panel.dispose");this._view.close();return this},center:function(){this.trigger("beforecenter",this._view.getPanel());this._view.center();this.trigger("center",this._view.getPanel());return this},selector:function(){return this._view.getPanel()},layout:function(){return this._view.getPanel()},find:function(i){return this.layout().find(i)},trigger:function(k,n){JC.log("Panel.trigger",k);var i=this,m=this._model.getEvent(k),j=true;if(m&&m.length){n&&(n=e(n))&&n.length&&(n=n[0]);e.each(m,function(p,o){if(o.call(n,k,i)===false){return j=false}})}if(j){var l=this._model.getEvent(k+"_default");if(l&&l.length){e.each(l,function(p,o){if(o.call(n,k,i)===false){return false}})}}return this},header:function(j){if(typeof j!="undefined"){this._view.getHeader(j)}var i=this._view.getHeader();if(i&&i.length){j=i.html()}return j||""},body:function(j){if(typeof j!="undefined"){this._view.getBody(j)}var i=this._view.getBody();if(i&&i.length){j=i.html()}return j||""},footer:function(j){if(typeof j!="undefined"){this._view.getFooter(j)}var i=this._view.getFooter();if(i&&i.length){j=i.html()}return j||""},panel:function(j){if(typeof j!="undefined"){this._view.getPanel(j)}var i=this._view.getPanel();if(i&&i.length){j=i.html()}return j||""},triggerSelector:function(i){return this._model.triggerSelector(i)}};function h(i,k,l,j){this.selector=i;this.headers=k;this.bodys=l;this.footers=j;this.panel;this._events={};this._init()}h.prototype={_init:function(){var i=this,j=typeof this.selector!="undefined"?e(this.selector):undefined;d.ignoreClick=true;if(j&&j.length){this.selector=j;JC.log("user tpl",this.selector.parent().length);if(!this.selector.parent().length){i.selector.appendTo(e(document.body));window.JC.f.jcAutoInitComps&&JC.f.jcAutoInitComps(i.selector)}}else{if(!j||j.length===0){this.footers=this.bodys;this.bodys=this.headers;this.headers=this.selector;this.selector=undefined}}setTimeout(function(){d.ignoreClick=false},1);return this},triggerSelector:function(i){typeof i!="undefined"&&(this._triggerSelector=i);return this._triggerSelector},addEvent:function(j,i){if(!(j&&i)){return}j&&(j=j.toLowerCase());if(!(j in this._events)){this._events[j]=[]}if(/\_default/i.test(j)){this._events[j].unshift(i)}else{this._events[j].push(i)}},getEvent:function(i){return this._events[i]},panelfocusbutton:function(){var i=d.focusButton;if(this.panel.is("[panelfocusbutton]")){i=JC.f.parseBool(this.panel.attr("panelfocusbutton"))}return i},panelclickclose:function(){var i=d.clickClose;if(this.panel.is("[panelclickclose]")){i=JC.f.parseBool(this.panel.attr("panelclickclose"))}return i},panelautoclose:function(){var i;if(this.panel.is("[panelautoclose]")){i=JC.f.parseBool(this.panel.attr("panelautoclose"))}return i},panelautoclosems:function(i){var j=d.autoCloseMs;if(this.panel.is("[panelautoclosems]")){j=parseInt(this.panel.attr("panelautoclosems"),10)}typeof i=="number"&&(j=i);return j}};function g(i){this._model=i;this._tpl=c;this._init()}g.prototype={_init:function(){if(!this._model.panel){if(this._model.selector){this._model.panel=this._model.selector}else{this._model.panel=e(this._tpl);this._model.panel.appendTo(document.body);window.JC.f.jcAutoInitComps&&JC.f.jcAutoInitComps(this._model.panel)}}this.getHeader();this.getBody();this.getFooter();return this},positionWith:function(k,o){if(!(k&&k.length)){return}this.getPanel().css({left:"-9999px",top:"-9999px",display:"block",position:"absolute"});var w=k.offset(),x=k.prop("offsetWidth"),m=k.prop("offsetHeight");var t=this.getPanel().prop("offsetWidth"),q=this.getPanel().prop("offsetHeight");var j=e(window).width(),l=e(window).height();var p=e(document).scrollTop(),n=e(document).scrollLeft();var s=w.left+n,r=w.top+m+1;if(typeof o!="undefined"){switch(o){case"top":r=w.top-q-1;s=w.left+x/2-t/2;break}}var u=p+l-q,y=p;if(r>u){r=w.top-q-1}if(r<y){r=p}var v=n+j-t,i=n;if(s>v){s=n+j-t-1}if(s<i){s=n}this.getPanel().css({left:s+"px",top:r+"px"})},show:function(){this.getPanel().css({"z-index":ZINDEX_COUNT++}).show()},focusButton:function(){if(!this._model.panelfocusbutton()){return}var i=this.getPanel().find("input[eventtype=confirm], input[type=submit], button[eventtype=confirm], button[type=submit]");!i.length&&(i=this.getPanel().find("input[eventtype=cancel], input[type=buton], button[eventtype=cancel], button[type=button]"));i.length&&e(i[0]).focus()},hide:function(){this.getPanel().hide()},close:function(){JC.log("Panel._view.close()");this.getPanel().remove()},getPanel:function(i){if(typeof i!="undefined"){this.getPanel().html(i)}return this._model.panel},getHeader:function(i){var j=this.getPanel().find("div.UPContent > div.hd");if(typeof i!="undefined"){this._model.headers=i}if(typeof this._model.headers!="undefined"){if(!j.length){this.getPanel().find("div.UPContent > div.bd").before(j=e('<div class="hd">弹出框</div>'))}j.html(this._model.headers);this._model.headers=undefined}return j},getBody:function(i){var j=this.getPanel().find("div.UPContent > div.bd");if(typeof i!="undefined"){this._model.bodys=i}if(typeof this._model.bodys!="undefined"){j.html(this._model.bodys);this._model.bodys=undefined}return j},getFooter:function(i){var j=this.getPanel().find("div.UPContent > div.ft");if(typeof i!="undefined"){this._model.footers=i}if(typeof this._model.footers!="undefined"){if(!j.length){this.getPanel().find("div.UPContent > div.bd").after(j=e('<div class="ft" ></div>'))}j.html(this._model.footers);this._model.footers=undefined}return j},center:function(){var q=this.getPanel(),p=q.width(),k=q.height(),n,l,i=e(window).width(),m=e(window).height(),o=e(document).scrollLeft(),j=e(document).scrollTop();q.css({left:"-9999px",top:"-9999px"}).show();n=(i-p)/2+o;l=(m-k)/2+j;if((m-k-100)>300){l-=100}JC.log((m-k/2-100));if((l+k-j)>m){JC.log("y overflow");l=j+m-k}if(l<j||l<0){l=j}q.css({left:n+"px",top:l+"px"});JC.log(p,k,i,m)}};var c=['<div class="UPanel" style="width: 600px;">','    <div class="UPContent">','        <div class="bd"></div>','        <span class="close" eventtype="close"></span>',"    </div><!--end UPContent-->","</div>"].join("");JC.hideAllPanel=function(i){e("div.UPanel").each(function(){var j=e(this),k=d.getInstance(j);if(!k){return}k.hide();i&&k.close()})};JC.hideAllPopup=function(i){e("body > div.UPanelPopup_identifer").each(function(){var j=e(this),k=d.getInstance(j);if(!k){return}k.hide();i&&k.close()})};e(document).delegate("div.UPanel","click",function(i){var k=e(this),l=e(i.target||i.srcElement),j;if(l&&l.length&&l.is("[eventtype]")){j=l.attr("eventtype");JC.log(j,k.data("PanelInstace"));j&&k.data("PanelInstace")&&k.data("PanelInstace").trigger(j,l,i)}});e(document).delegate("div.UPanel","click",function(j){var i=e(this),k=d.getInstance(i);if(k&&k.isClickClose()){j.stopPropagation()}});e(document).on("click",function(i){if(d.ignoreClick){return}e("div.UPanel").each(function(){var j=e(this),k=d.getInstance(j);if(k&&k.isClickClose()&&k.layout()&&k.layout().is(":visible")){k.hide();k.close()}})});e(document).on("keyup",function(i){var j=i.keyCode;switch(j){case 27:JC.hideAllPanel(1);break}});var f={alert:null,confirm:null,msgbox:null,"dialog.alert":null,"dialog.confirm":null,"dialog.msgbox":null,panel:null,dialog:null};e(document).on("click",function(j){var k=e(j.target||j.srcElement),x=k.attr("paneltype"),r=k.attr("panelmsg"),t=k.is("[panelmsgbox]")?JC.f.parentSelector(k,k.attr("panelmsgbox")):null;if(!(x&&(r||(t&&t.length)))){return}x=x.toLowerCase();if(!x in f){return}k.prop("nodeName")&&k.prop("nodeName").toLowerCase()=="a"&&j.preventDefault();var o,i=(parseInt(k.attr("panelstatus"),10)||0),y=k.attr("panelcallback"),v=k.attr("panelcancelcallback"),w=k.attr("panelclosecallback"),m=parseInt(k.attr("panelbutton"),10)||0,l=k.attr("panelheader")||"",n=k.is("[panelheaderbox]")?JC.f.parentSelector(k,k.attr("panelheaderbox")):null,q=k.attr("panelfooter")||"",u=k.is("[panelfooterbox]")?JC.f.parentSelector(k,k.attr("panelfooterbox")):null,p=k.is("[panelhideclose]")?JC.f.parseBool(k.attr("panelhideclose")):false;t&&(r=JC.f.scriptContent(t)||r);n&&n.length&&(l=JC.f.scriptContent(n)||q);u&&u.length&&(q=JC.f.scriptContent(u)||q);k.prop("nodeName")&&k.prop("nodeName").toLowerCase()=="a"&&j.preventDefault();y&&(y=window[y]);w&&(w=window[w]);switch(x){case"alert":JC.alert&&(o=JC.alert(r,k,i));break;case"confirm":JC.confirm&&(o=JC.confirm(r,k,i));break;case"msgbox":JC.msgbox&&(o=JC.msgbox(r,k,i));break;case"dialog.alert":JC.Dialog&&JC.Dialog.alert&&(o=JC.Dialog.alert(r,i));break;case"dialog.confirm":JC.Dialog&&JC.Dialog.confirm&&(o=JC.Dialog.confirm(r,i));break;case"dialog.msgbox":JC.Dialog&&JC.Dialog.msgbox&&(o=JC.Dialog.msgbox(r,i));break;case"panel":case"dialog":var s="";if(x=="panel"){o=new d(l,r+d._getButton(m),q)}else{if(!JC.Dialog){return}o=JC.Dialog(l,r+d._getButton(m),q)}o.on("beforeshow",function(z,A){!l&&A.find("div.hd").hide();!l&&A.find("div.ft").hide();d._fixWidth(r,o);p&&A.find("span.close").hide()});x=="panel"&&o.show(k,"top");break}if(!o){return}if(/msgbox/i.test(x)){y&&o.on("close",y)}else{y&&o.on("confirm",y)}w&&o.on("close",w);v&&o.on("cancel",v);o.triggerSelector(k)})}(jQuery));(function(c){JC.msgbox=function(j,i,h,g,f){if(typeof i=="number"){h=i;i=null}if(typeof g=="number"){f=g;g=null}var e=d.popup(JC.msgbox.tpl||d.tpls.msgbox,j,i,h);g&&e.on("close",g);setTimeout(function(){e.autoClose(f)},1);return e};JC.msgbox.tpl;JC.alert=function(h,g,f,e){if(typeof g=="number"){f=g;g=null}return d.popup(JC.alert.tpl||d.tpls.alert,h,g,f,e)};JC.alert.tpl;JC.confirm=function(j,i,h,g,e){if(typeof i=="number"){h=i;i=null}var f=d.popup(JC.confirm.tpl||d.tpls.confirm,j,i,h,g);f&&e&&f.on("cancel",e);return f};JC.confirm.tpl;var d={minWidth:180,maxWidth:500,xoffset:9,yoffset:3,popupIdentifier:function(f){var e;if(!f){c("body > div.UPanelPopup_identifer").each(function(){var g=c(this),h=Panel.getInstance(g);if(!h){return}h.hide();h.close()});c("body > div.UPanel_TMP").remove()}else{f.selector().addClass("UPanelPopup_identifer");f.selector().data("PopupInstance",f)}},popup:function(f,j,i,h,g){if(!j){return}d.popupIdentifier();i&&(i=c(i));var f=f.replace(/\{msg\}/g,j).replace(/\{status\}/g,d.getStatusClass(h||""));var e=new JC.Panel(f);d.popupIdentifier(e);e.selector().data("popupSrc",i);d.fixWidth(j,e);g&&e.on("confirm",g);if(!i){e.center()}e.on("show_default",function(){JC.log("user show_default");if(i&&i.length){d.showEffect(e,i,function(){e.focusButton()});return false}});e.on("close_default",function(){JC.log("user close_default");if(i&&i.length){d.hideEffect(e,i,function(){e.selector().remove();e=null})}else{e.selector().remove()}return false});e.on("hide_default",function(){JC.log("user hide_default");if(i&&i.length){d.hideEffect(e,i,function(){e.selector().hide()});return false}else{e.selector().hide()}});if(i&&i.length){e.selector().css({left:"-9999px",top:"-9999px"})}e.selector().css("z-index",window.ZINDEX_COUNT++);e.show();return e},hideEffect:function(f,h,g){h&&(h=c(h));if(!(h&&h.length)){g&&g(f);return}if(!(f&&f.selector)){return}var n=h.offset(),i=f.selector();var k=i[0];k.interval&&clearInterval(k.interval);k.defaultWidth&&i.width(k.defaultWidth);k.defaultHeight&&i.height(k.defaultHeight);var j=h.width(),e=i.height();k.defaultWidth=i.width();k.defaultHeight=i.height();var m=d.getLeft(n.left,j,i.width());var l=d.getTop(n.top,h.height(),e);l=l-e-d.yoffset;i.height(0);i.css({left:m+"px"});k.interval=JC.f.easyEffect(function(o,p){i.css({top:l+o+"px",height:e-o+"px"});if(h&&!h.is(":visible")){clearInterval(k.interval);g&&g(f)}if(e===o){i.hide()}p&&g&&g(f)},e)},showEffect:function(f,h,g){h&&(h=c(h));if(!(h&&h.length)){return}if(!(f&&f.selector)){return}var n=h.offset(),i=f.selector();var k=i[0];k.interval&&clearInterval(k.interval);k.defaultWidth&&i.width(k.defaultWidth);k.defaultHeight&&i.height(k.defaultHeight);var j=h.width(),e=i.height();k.defaultWidth=i.width();k.defaultHeight=i.height();var m=d.getLeft(n.left,j,i.width());var l=d.getTop(n.top,h.height(),e,d.xoffset);i.height(0);i.css({left:m+"px"});JC.log(l,n.top);if(l>n.top){k.interval=JC.f.easyEffect(function(o,p){i.css({top:l-e-d.yoffset+"px",height:o+"px"});p&&g&&g(f)},e)}else{k.interval=JC.f.easyEffect(function(o,p){i.css({top:l-o-d.yoffset+"px",height:o+"px"});p&&g&&g(f)},e)}},onresize:function(e){if(!e.selector().is(":visible")){return}var h=e.selector(),f=h.data("popupSrc");if(!(f&&f.length)){e.center()}else{var i=f.offset();var n=i.top,q=f.height(),l=h.height(),p=0,g=i.left,j=f.width(),m=h.width(),k=0;var r=d.getLeft(g,j,m,k)+d.xoffset;var o=d.getTop(n,q,l,p)-l-d.yoffset;h.css({left:r+"px",top:o+"px"})}},getTop:function(j,h,e,g){var k=j,i=c(document).scrollTop(),f=c(window).height()-e;k-e<i&&(k=j+h+e+g);return k},getLeft:function(i,h,k,g){g==undefined&&(g=5);var j=i+h/2+g-k/2,f=c(document).scrollLeft(),e=c(window).width()+f-k;j>e&&(j=e-2);j<f&&(j=f+1);return j},fixWidth:function(h,g){var f=c('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+h+"</div>").appendTo("body"),e=f.width()+80;f.remove();e>d.maxWidth&&(e=d.maxWidth);e<d.minWidth&&(e=d.minWidth);g.selector().css("width",e)},getStatusClass:function(e){var f="UPanelSuccess";switch(e){case 0:f="UPanelSuccess";break;case 1:f="UPanelError";break;case 2:f="UPanelAlert";break}return f},tpls:{msgbox:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),alert:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),confirm:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>','                    <button type="button" class="UPanel_cancel" eventtype="cancel">取消</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join("")}};c(window).on("resize",function(e){c("body > div.UPanelPopup_identifer").each(function(){var f=c(this);f.data("PopupInstance")&&d.onresize(f.data("PopupInstance"))})})}(jQuery));(function(d){var f=!!window.ActiveXObject&&!window.XMLHttpRequest;var c=window.Dialog=JC.Dialog=function(g,j,k,i){if(e.timeout){clearTimeout(e.timeout)}if(JC.Panel.getInstance(g)){e.timeout=setTimeout(function(){JC.Panel.getInstance(g).show(0)},e.showMs);return JC.Panel.getInstance(g)}e.dialogIdentifier();var h=new JC.Panel(g,j,k,i);e.dialogIdentifier(h);e.showMask();h.selector().css("z-index",window.ZINDEX_COUNT++);h.on("close_default",function(l,m){e.hideMask()});h.on("hide_default",function(l,m){e.hideMask()});h.on("show_default",function(l,m){e.showMask();setTimeout(function(){e.showMask();h.selector().css({"z-index":window.ZINDEX_COUNT++,display:"block"})},1)});e.timeout=setTimeout(function(){h.show(0)},e.showMs);return h};JC.Dialog.msgbox=function(l,k,j,i){if(!l){return}var h=(JC.Dialog.msgbox.tpl||e.tpls.msgbox).replace(/\{msg\}/g,l).replace(/\{status\}/g,e.getStatusClass(k||""));var g=JC.Dialog(h);e.fixWidth(l,g);j&&g.on("close",j);setTimeout(function(){g.autoClose(i)},1);return g};JC.Dialog.msgbox.tpl;JC.Dialog.alert=function(k,j,i){if(!k){return}var h=(JC.Dialog.alert.tpl||e.tpls.alert).replace(/\{msg\}/g,k).replace(/\{status\}/g,e.getStatusClass(j||""));var g=JC.Dialog(h);e.fixWidth(k,g);i&&g.on("confirm",i);return g};JC.Dialog.alert.tpl;JC.Dialog.confirm=function(l,k,j,g){if(!l){return}var i=(JC.Dialog.confirm.tpl||e.tpls.confirm).replace(/\{msg\}/g,l).replace(/\{status\}/g,e.getStatusClass(k||""));var h=JC.Dialog(i);e.fixWidth(l,h);j&&h.on("confirm",j);g&&h.on("cancel",g);return h};JC.Dialog.confirm.tpl;JC.Dialog.mask=function(g){!g&&e.showMask();g&&e.hideMask()};var e={timeout:null,showMs:10,minWidth:180,maxWidth:500,dialogIdentifier:function(g){if(!g){e.hideMask();d("body > div.UPanelDialog_identifer").each(function(){var h=d(this),i=Panel.getInstance(h);if(!i){return}i.hide();i.close()});d("body > div.UPanel_TMP").remove()}else{g.selector().addClass("UPanelDialog_identifer");g.selector().data("DialogInstance",g)}},showMask:function(){var h=d("#UPanelMask"),g=d("#UPanelMaskIfrmae");if(!h.length){d(e.tpls.mask).appendTo("body");h=d("#UPanelMask"),g=d("#UPanelMaskIfrmae")}g.show();h.show();e.setMaskSizeForIe6();g.css("z-index",window.ZINDEX_COUNT++);h.css("z-index",window.ZINDEX_COUNT++)},hideMask:function(){var h=d("#UPanelMask"),g=d("#UPanelMaskIfrmae");if(h.length){h.hide()}if(g.length){g.hide()}},setMaskSizeForIe6:function(){var i=d("#UPanelMask"),h=d("#UPanelMaskIfrmae");if(!(i.length&&h.length)){return}var g={position:"absolute",top:"0px",left:d(document).scrollLeft()+"px",height:d(document).height()+"px",width:d(window).width()+"px"};i.css(g);h.css(g)},getStatusClass:function(g){var h="UPanelSuccess";switch(g){case 0:h="UPanelSuccess";break;case 1:h="UPanelError";break;case 2:h="UPanelAlert";break}return h},fixWidth:function(j,i){var h=d('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+j+"</div>").appendTo("body"),g=h.width()+80;g>e.maxWidth&&(g=e.maxWidth);g<e.minWidth&&(g=e.minWidth);i.selector().css("width",g)},tpls:{msgbox:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),alert:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),confirm:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>','                    <button type="button" class="UPanel_cancel" eventtype="cancel">取消</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),mask:['<div id="UPanelMask" class="UPanelMask"></div>','<iframe src="about:blank" id="UPanelMaskIfrmae"',' frameborder="0" class="UPanelMaskIframe"></iframe>'].join("")}};d(window).on("resize scroll",function(g){d("body > div.UPanelDialog_identifer").each(function(){var h=d(this);if(h.data("DialogInstance")){if(!h.data("DialogInstance").selector().is(":visible")){return}if(g.type.toLowerCase()=="resize"){h.data("DialogInstance").center()}e.setMaskSizeForIe6()}})})}(jQuery));return JC.Panel})}(typeof define==="function"&&define.amd?define:function(b,a,c){typeof b=="function"&&(c=b);typeof a=="function"&&(c=a);c&&c()},window));