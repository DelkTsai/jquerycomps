(function(b,a){b(["JC.BaseMVC"],function(){JC.DCalendar=d;function d(f){f&&(f=$(f));if(d.getInstance(f)){return d.getInstance(f)}d.getInstance(f,this);this._model=new d.Model(f);this._view=new d.View(this._model);this._init()}d.getInstance=function(f,h){var g=d._type(f);if(typeof f==="string"&&!/</.test(f)){f=$(f)}if(!(f&&f.length)||(typeof f==="string")){return}if(typeof h!=="undefined"){d.ins[g]=h}return d.ins[g]};d.ins={};d.init=function(g,h){var i=[];typeof g==="boolean"&&(h=g,g=document);g=$(g||document);if(g.length){var f=g.length===1?g.prop("nodeName").toLowerCase():"";if(f&&(f==="input"||f==="button")){d._initStatus(g)}else{g.find(["input[datatype=ddate]","input[datatype=drange]","button[datatype=ddate]","input[multidate=ddate]","button[multidate=ddate]"].join()).each(function(){d._initStatus($(this))})}}return i};d._initStatus=function(f){var g;f&&(f=$(f));if(!(f&&f.length)){return}f.val()&&(g=JC.f.dateDetect(f.val()))&&f.val(JC.f.formatISODate(g));f.attr("minValue")&&(g=JC.f.dateDetect(f.attr("minValue")))&&f.attr("minValue",JC.f.formatISODate(g));f.attr("maxValue")&&(g=JC.f.dateDetect(f.attr("maxValue")))&&f.attr("maxValue",JC.f.formatISODate(g));f.addClass("CDCalendar_icon")};d._type=function(f){return"_ddate"},d.update=function(){var f=$(JC.f.printf("#{0}>div",d.Model._boxId));if(!f.length){return}f.each(function(){var g=$(this),h=g.data("CDCalendarIns");if(!h){return}if(h._model.layout().is(":visible")){h.update()}})},d.pickDate=function(f){var f=$(f),g,h=f.is("[ignoreprocess]");if(!(f&&f.length)){return}if(($(d.lastSrc)[0]===f[0])&&d.visible){f.attr("cdc_ignore",true)}else{f.attr("cdc_ignore",false)}if(JC.f.parseBool(f.attr("cdc_ignore"))){return}d.lastSrc=f;d.visible=false;f.attr("ignoreprocess",true).addClass("js_compDCalendar").blur();!h&&f.removeAttr("ignoreprocess");g=d.getInstance(f);!g&&(g=new d(f));g.trigger(d.Model.SHOW);return this},d.lastSrc=null,BaseMVC.build(d);JC.f.extendObject(d.prototype,{_beforeInit:function(){},_initHanlderEvent:function(){var f=this;f.on("CDC_INITED",function(){f._model.selector().addClass("CDCalendar_icon")});f._model.selector().on("keydown",function(g){g.preventDefault()});f.on(d.Model.SHOW,function(){f._model.selector(d.lastSrc);f._view.show();d.visible=true;f._model.calendarshow()&&f._model.calendarshow().call(f,f.selector())});f.on(d.Model.HIDDEN,function(){f._model.selector().addClass("cdc_ignore",false);f._view.hide();d.visible=false;f.selector().blur();f._model.calendarhide()&&f._model.calendarhide().call(f,f.selector())});f.on(d.Model.CHANGE,function(g,h){f._view.change(h)});f.on(d.Model.SETDATE,function(g,h){f._model.setSelected(h);f._model.updatedate()&&f._model.updatedate().call(f,f.selector())});f.on(d.Model.CLEAR,function(){f._model.clear();f._model.calendarclear()&&f._model.calendarclear().call(f,f.selector())});f.on(d.Model.DATEVIEW,function(g,h){f._view.dateView(h);f._model.updatemonth()&&f._model.updatemonth().call(f,f.selector())});f.on(d.Model.MONTHVIEW,function(g,h){f._view.monthView(h);if($(h).attr("data-year")){f._model.updateyear()&&f._model.updateyear().call(f,f.selector())}else{f._model.beforeupdatemonth()&&f._model.beforeupdatemonth().call(f,f.selector())}});f.on(d.Model.YEARVIEW,function(g,h){f._view.yearView(h);f._model.beforeupdateyear()&&f._model.beforeupdateyear().call(f,f.selector())});f.on(d.Model.UPDATENEXTPAGEYEAR,function(){f._model.updatenextpageyear()&&f._model.updatenextpageyear().call(f,f.selector())});f.on(d.Model.UPDATEPREVPAGEYEAR,function(){f._model.updateprevpageyear()&&f._model.updateprevpageyear().call(f,f.selector())});f.on(d.Model.UPDATEPREVMONTH,function(){f._model.updateprevmonth()&&f._model.updateprevmonth().call(f,f.selector())});f.on(d.Model.UPDATENEXTMONTH,function(){f._model.updatenextmonth()&&f._model.updatenextmonth().call(f,f.selector())});f.on(d.Model.UPDATEPREVYEAR,function(){f._model.updateprevyear()&&f._model.updateprevyear().call(f,f.selector())});f.on(d.Model.UPDATENEXTYEAR,function(){f._model.updatenextyear()&&f._model.updatenextyear().call(f,f.selector())})},_inited:function(){}});d.Model._instanceName="DCalendar";d.Model.CDC_INITED="CDC_INITED";d.Model._boxId="CompDCalendar";d.Model.SHOW="CDC_SHOW";d.Model.HIDDEN="CDC_HIDDEN";d.Model.CHANGE="CDC_CHANGE";d.Model.SETDATE="CDC_SETDATE";d.Model.DATEVIEW="CDC_DATEVIEW";d.Model.MONTHVIEW="CDC_MONTHVIEW";d.Model.YEARVIEW="CDC_YEARVIEW";d.Model.CLEAR="CDC_CLEAR";d.Model.UPDATENEXTPAGEYEAR="CDC_UPDATENEXTPAGEYEAR";d.Model.UPDATEPREVPAGEYEAR="CDC_UPDATEPREVPAGEYEAR";d.Model.UPDATEPREVMONTH="CDC_UPDATEPREVMONTH";d.Model.UPDATENEXTMONTH="CDC_UPDATENEXTMONTH";d.Model.UPDATEPREVYEAR="CDC_UPDATEPREVYEAR";d.Model.UPDATENEXTYEAR="CDC_UPDATENEXTYEAR";JC.f.extendObject(d.Model.prototype,{init:function(){var f=this},isDCalendar:function(f){var f=$(f),g=0;if(f.length){if(f.prop("nodeName")&&f.attr("datatype")&&(f.prop("nodeName").toLowerCase()==="input"||f.prop("nodeName").toLowerCase()==="button")&&((f.attr("datatype")||"").toLowerCase()==="ddate"||(f.attr("multidate")||"").toLowerCase()==="ddate")){g=1}f.hasClass("js_compDCalendar")&&(g=1)}return g},curSelectedDate:function(){var f=this,g=f.selector().val().trim();g=(JC.f.dateDetect(g)||new Date());return g},curYear:function(){return this.curSelectedDate().getFullYear()},curMonth:function(){return this.curSelectedDate().getMonth()},minValue:function(){var f=this.attrProp("minValue")||"";f&&(f=JC.f.dateDetect(f));return f},maxValue:function(){var f=this.attrProp("maxValue")||"";f&&(f=JC.f.dateDetect(f));return f},minYear:function(){var f=this,g;f.minValue()&&(g=f.minValue().getFullYear());return g},maxYear:function(){var f=this,g;f.maxValue()&&(g=f.maxValue().getFullYear());return g},currentCanSelect:function(){var f=this.boolProp("currentCanSelect");(typeof f==="undefined")&&(f=true);return f},weekendCanSelect:function(){var f=this.boolProp("weekendCanSelect");(typeof f==="undefined")&&(f=true);return f},monthNum:function(){var f=this.intProp("monthNum");(!f||f<2||f>12)&&(f=2);return f},showtype:function(){var f=this.attrProp("showtype");if(f==="block"){f="block"}else{f="float"}return f},allYearsTpl:function(g,l){var f=this,m="<tr>",k,h;for(k=g,h=1;k<=l;k++){m+='<td><a href="javascript:;" class="js_compDCYear" data-year="'+k+'">'+k+"</a></td>";if(h%7===0){if(h===28){m+="</tr><tr>";return m}else{m+="</tr>"}}h++}return m},datesOfMonthTpl:function(u){var f=this,t="<tr>",q,l,o=new Date(),s,r,p=JC.f.maxDayOfMonth(u),n="",k,h,m,g;for(k=1;k<=p;k++){l=new Date(u.getFullYear(),u.getMonth(),k);s=JC.f.formatISODate(l);r=(l.getDay()+6)%7;m="";g="";(JC.f.isSameDay(o,l))&&(m="today");(r===5||r===6)&&(g="weekend");q='<td><a href="javascript:;" title="'+s+'" data-date="'+s+'" class="'+m+g+'" >'+k+"</a></td>";if(k===1&&r>0){h=r;while(h--){n+='<td ><a href="javascript:;" class="disabled"></a></td>'}t=t+n;n=""}t+=q;if(k===p&&r<6){h=6-r;while(h--){n+='<td><a href="javascript:;" class="disabled"></a></td>'}t=t+n;n=""}if(r===6){if(k===p){t=t+"</tr>"}else{t=t+"</tr><tr>"}}}return t},monthTpl:'<div class="CDC_inner"><div class="CDC_header"><div class="CDC_header_tools"><a href="javascript:;" data-date="{2}" class="CDC_Date">返回今天</a><a href="javascript:;" data-date="{3}" class="CDC_Date">返回选中日期</a></div><h4><a href="javascript:;" data-date="{1}" class="CDC_Year">{0}</a></h4></div><div class="CDC_body"><table class="CDC_month_body"><tbody><tr><td><a href="javascript:;" class="js_compDCMonth" data-month="0">一月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="1">二月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="2">三月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="3">四月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="4">五月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="5">六月</a></td></tr><tr><td><a href="javascript:;" class="js_compDCMonth" data-month="6">七月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="7">八月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="8">九月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="9">十月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="10">十一月</a></td><td><a href="javascript:;" class="js_compDCMonth" data-month="11">十二月</a></td></tr></tbody></table></div></div>',yearTpl:'<div class="CDC_inner"><div class="CDC_header"><div class="CDC_header_tools"><a href="javascript:;" data-date="{0}" class="CDC_Date">返回今天</a><a href="javascript:;" data-date="{3}" class="CDC_Date">返回选中日期</a></div><h4><span>{2}</span></h4></div><div class="CDC_body"><table class="CDC_year_body"><tbody>{1}</tbody></table></div></div>',dateTpl:'<div class="CDC_inner" style="width: 182px;" ><div class="CDC_header"><h4><a href="javascript:;" title="更改年份" data-date="{0}" class="CDC_Year">{1}</a><a href="javascript:;" title="更改月份" data-date="{0}" class="CDC_Month">{2}</a></h4></div><div class="CDC_body"><table class="CDC_date_body CDC_date_body_left"><thead ><tr><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th><th>日</th></tr></thead><tbody>{3}</tbody></table></div></div>',baseTpl:'<div class="CDCalendar_bounding_box" style="display:none;"><div class="CDC_container" ><div class="CDC_content_box" ><div class="CDC_arrow" ><a  href="javascript:;" class="CDC_close_btn" title="关闭">close</a><a  href="javascript:;" class="CDC_prev_btn" data-action="prev">prev</a><a  href="javascript:;" class="CDC_next_btn" data-action="next">next</a><a  href="javascript:;" class="CDC_clear" title="清除">clear</a></div><div class="CDC_date_box" >{0}</div></div></div></div>',buildYearTpl:function(g,h,i){var f=this,j=f.yearTpl;f.layoutBox().find(".CDC_date_box").html(JC.f.printf(j,JC.f.formatISODate(g),f.allYearsTpl(h,i),h+" ~ "+i,JC.f.formatISODate(f.curSelectedDate()))).find(".CDC_year_body>tbody>tr>td>a").each(function(){var l=$(this),m=l.data("year"),k=new Date(m,0,1);(m===new Date().getFullYear())&&(l.addClass("today"));(m===f.curYear())&&(l.parent("td").addClass("selected_date"));((f.maxYear()&&(m>f.maxYear()))||(f.minYear()&&(m<f.minYear())))&&(l.addClass("disabled"));l.attr("data-date",JC.f.formatISODate(k))});f.layoutBox().find(".CDC_prev_btn").attr("data-type","year").attr("data-date",JC.f.formatISODate(new Date(h-1,0,1))).end().find(".CDC_next_btn").attr("data-type","year").attr("data-date",JC.f.formatISODate(new Date(i+1,0,1)));f.layoutBox().css("width",466);f.disablePageBtn();f.position()},buildMonthTpl:function(g){var f=this,i=f.monthTpl,h=new Date(g.getFullYear()-1,11,1);f.layoutBox().find(".CDC_date_box").html(JC.f.printf(i,g.getFullYear()+"年",JC.f.formatISODate(g),JC.f.formatISODate(new Date()),JC.f.formatISODate(f.curSelectedDate()))).find(".CDC_month_body>tbody>tr>td>a").each(function(m){var k=$(this),l=k.data("month"),j=new Date(g.getFullYear(),l,1),n=new Date(j.getFullYear(),l,JC.f.maxDayOfMonth(j));(JC.f.isSameMonth(j,new Date()))&&(k.addClass("today"));(JC.f.isSameMonth(f.curSelectedDate(),j))&&(k.parent("td").addClass("selected_date"));((f.minValue()&&(f.minValue().getTime()>n.getTime()))||(f.maxValue()&&(f.maxValue().getTime()<j.getTime())))&&(k.addClass("disabled"));k.attr("data-date",JC.f.formatISODate(j))}).end().end().find(".CDC_prev_btn").attr("data-date",JC.f.formatISODate(new Date(g.getFullYear()-1,11,JC.f.maxDayOfMonth(h)))).attr("data-type","month").end().find(".CDC_next_btn").attr("data-date",JC.f.formatISODate(new Date(g.getFullYear()+1,0,1))).attr("data-type","month");f.disablePageBtn();f.position();f.layoutBox().css("width",466)},buildDateTpl:function(o){var f=this,n="",h=o||f.curSelectedDate(),l=h.getFullYear(),i=h.getMonth(),m=f.monthNum(),g=new Date(l,i,1),k,j;while(m--){n+=JC.f.printf(f.dateTpl,JC.f.formatISODate(h),l+"年",(i+1)+"月",f.datesOfMonthTpl(h));h=new Date(l,i+1,1);l=h.getFullYear();i=h.getMonth()}j=new Date(l,i-1,1);k=new Date(l,i-1,JC.f.maxDayOfMonth(j));f.layoutBox().find(".CDC_date_box").html(n).find(".CDC_date_body>tbody>tr>td>a[data-date]").each(function(r){var q=$(this),p=JC.f.dateDetect(q.data("date"));(JC.f.isSameDay(p,f.curSelectedDate()))&&(q.parent("td").addClass("selected_date"));(f.minValue()&&p.getTime()<f.minValue().getTime())&&(q.addClass("disabled"));(f.maxValue()&&p.getTime()>f.maxValue().getTime())&&(q.addClass("disabled"));(!f.currentCanSelect()&&JC.f.isSameDay(p,new Date()))&&(q.addClass("disabled"))}).end().end().find(".CDC_next_btn").attr("data-date",JC.f.formatISODate(k)).attr("data-type","date").end().find(".CDC_prev_btn").attr("data-date",JC.f.formatISODate(g)).attr("data-type","date");f.disablePageBtn();f.fixTable()},disablePageBtn:function(){var f=this,g=f.layoutBox().find(".CDC_prev_btn"),h=f.layoutBox().find(".CDC_next_btn"),j=JC.f.dateDetect(g.attr("data-date")),i=JC.f.dateDetect(h.attr("data-date"));if(f.minValue()&&(f.minValue().getTime()>j.getTime())){g.addClass("CDC_prev_btn_disabled").prop("disabled",true)}else{g.removeClass("CDC_prev_btn_disabled").prop("disabled",false)}if(f.maxValue()&&(f.maxValue().getTime()<i.getTime())){h.addClass("CDC_next_btn_disabled").prop("disabled",true)}else{h.removeClass("CDC_next_btn_disabled").prop("disabled",false)}},layout:function(){var f=this;!this._layout&&(this._layout=f.layoutBox().find("div.CDCalendar_bounding_box"));return this._layout},layoutBox:function(){var f=this,g=$("#"+d.Model._boxId);if(!(g&&g.length)){g=$(JC.f.printf('<div id="{0}" style="width:466px;position:absolute;">'+f.baseTpl+"</div>",d.Model._boxId)).appendTo(document.body)}return g},position:function(){var f=this,h=f.selector().offset().left,g=f.selector().offset().top+f.selector().prop("offsetHeight"),k,j,i=$(window);if((i.outerHeight()+i.scrollTop())<(g+f.layout().height())){j=f.selector().offset().top-f.layout().height();(j>=0)&&(g=j)}else{g=f.selector().offset().top+f.selector().prop("offsetHeight")}if((i.outerWidth()+i.scrollLeft())<(h+f.layoutBox().outerWidth(true))){k=f.selector().offset().left+f.selector().outerWidth()-f.layoutBox().outerWidth(true);(k>=0)&&(h=k)}else{h=f.selector().offset().left}f.layoutBox().css({left:h,top:g})},setSelected:function(i){var f=this,j=$(i),h=JC.f.getJqParent(j,"td"),g=j.data("date");f.layoutBox().find(".CDC_date_body>tbody>tr>td").removeClass("selected_date");h.addClass("selected_date").data("date");f.selector().val(g)},clear:function(){var f=this;f.layoutBox().find(".CDC_date_body>tbody>tr>td").removeClass("selected_date");f.selector().val("")},fixTable:function(){var f=this,i=f.layoutBox().find(".CDC_date_body"),h='<tr><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td><td><a href="javascript:;" class="disabled">&nbsp;</a></td></tr>',g=0;i.each(function(l){var k=$(this),j=k.find("tbody>tr").length;(j>g)&&(g=j)});i.each(function(){var k=$(this),j=k.find("tbody>tr").length;(j<g)&&(k.find("tbody").append(h))});if(f.showtype()==="float"){if(f.monthNum()===2||f.monthNum()===4){f.layoutBox().css("width",466)}else{f.layoutBox().css("width",678)}}else{f.layoutBox().css("width",267)}},calendarshow:function(){var f=this,g=f.selector(),h="calendarshow";return f.callbackProp(g,h)},calendarhide:function(){var f=this,g=f.selector(),h="calendarhide";return f.callbackProp(g,h)},calendarclear:function(){var f=this,g=f.selector(),h="calendarclear";return f.callbackProp(g,h)},updatedate:function(){var f=this,g=f.selector(),h="updatedate";return f.callbackProp(g,h)},beforeupdatemonth:function(){var f=this,g=f.selector(),h="beforeupdatemonth";return f.callbackProp(g,h)},updatemonth:function(){var f=this,g=f.selector(),h="updatemonth";return f.callbackProp(g,h)},beforeupdateyear:function(){var f=this,g=f.selector(),h="beforeupdateyear";return f.callbackProp(g,h)},updateyear:function(){var f=this,g=f.selector(),h="updateyear";return f.callbackProp(g,h)},updatenextmonth:function(){var f=this,g=f.selector(),h="updatenextmonth";return f.callbackProp(g,h)},updateprevmonth:function(){var f=this,g=f.selector(),h="updateprevmonth";return f.callbackProp(g,h)},updatenextyear:function(){var f=this,g=f.selector(),h="updatenextyear";return f.callbackProp(g,h)},updateprevyear:function(){var f=this,g=f.selector(),h="updateprevyear";return f.callbackProp(g,h)},updatenextpageyear:function(){var f=this,g=f.selector(),h="updatenextpageyear";return f.callbackProp(g,h)},updateprevpageyear:function(){var f=this,g=f.selector(),h="updateprevpageyear";return f.callbackProp(g,h)}});JC.f.extendObject(d.View.prototype,{init:function(){var f=this},update:function(){var f=this;f._model.position();f._model.layout().data("CDCalendarIns",f)},yearView:function(j){var f=this,k=$(j),g=new Date(),h=g.getFullYear()-14,i=g.getFullYear()+13;f._model.buildYearTpl(g,h,i)},monthView:function(h){var f=this,i=$(h),g=JC.f.dateDetect(i.data("date"));f._model.buildMonthTpl(g)},dateView:function(g){var f=this,i=$(g),h=JC.f.dateDetect(i.data("date"));f._model.buildDateTpl(h)},change:function(j){var f=this,k=$(j),l=k.data("action"),h=k.attr("data-type"),g,o,n,i,m;switch(h){case"year":g=JC.f.dateDetect(k.attr("data-date"));if(l=="prev"){m=g.getFullYear();i=m-27;f.trigger(d.Model.UPDATEPREVPAGEYEAR)}else{i=g.getFullYear();m=i+27;f.trigger(d.Model.UPDATENEXTPAGEYEAR)}f._model.buildYearTpl(new Date(),i,m);break;case"month":g=JC.f.dateDetect(k.attr("data-date"));if(l==="prev"){f.trigger(d.Model.UPDATEPREVYEAR)}else{f.trigger(d.Model.UPDATENEXTYEAR)}f._model.buildMonthTpl(g);break;case"date":default:if(l==="prev"){o=JC.f.dateDetect(k.attr("data-date"));g=new Date(o.getFullYear(),o.getMonth()-f._model.monthNum()+1,1);f.trigger(d.Model.UPDATEPREVMONTH)}else{g=JC.f.dateDetect(k.attr("data-date"));f.trigger(d.Model.UPDATENEXTMONTH)}f._model.buildDateTpl(g);f._model.position()}},show:function(){var f=this;f._model.buildDateTpl();f.update();f._model.layout().show();f._model.layout().data("CDCalendarShow",f)},hide:function(){var f=this;f._model.layout().hide()}});var e=$(document),c="input[datatype=ddate], button[datatype=ddate], input[datatype=drange]";e.delegate(c,"focus",function(f){$(this).addClass("cdc_ignore",true);JC.f.safeTimeout(function(){d.pickDate(f.target||f.srcElement)},null,"DCalendarClick",50)});e.delegate(c,"click",function(f){$(this).addClass("cdc_ignore",true);JC.f.safeTimeout(function(){d.pickDate(f.target||f.srcElement)},null,"DCalendarClick",50)});e.on("click",function(f){var g=d.getInstance(d.lastSrc),h=f.target||f.srcElement;if(g&&g._model.isDCalendar(h)){return}g&&g.trigger(d.Model.HIDDEN)});e.delegate("#CompDCalendar .CDC_close_btn","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.HIDDEN)});e.delegate("#CompDCalendar .CDC_next_btn, #CompDCalendar .CDC_prev_btn","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.CHANGE,[$(this)])});e.delegate("#CompDCalendar .CDC_Month","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.MONTHVIEW,[$(this)])});e.delegate("#CompDCalendar .CDC_Year","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.YEARVIEW,[$(this)])});e.delegate("#CompDCalendar .CDC_Date","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.DATEVIEW,[$(this)])});e.delegate("#CompDCalendar","click",function(f){f.stopPropagation()});e.delegate('#CompDCalendar .CDC_date_body>tbody>tr>td>a:not(".disabled")',"click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.SETDATE,[$(this)]);g&&g.trigger(d.Model.HIDDEN)});e.delegate('#CompDCalendar .CDC_month_body>tbody>tr>td>a:not(".disabled")',"click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.DATEVIEW,[$(this)])});e.delegate('#CompDCalendar .CDC_year_body>tbody>tr>td>a:not(".disabled")',"click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.MONTHVIEW,[$(this)])});e.delegate("#CompDCalendar .CDC_clear","click",function(f){var g=d.getInstance(d.lastSrc);g&&g.trigger(d.Model.CLEAR,[$(this)])});$(window).on("resize scroll",function(){JC.f.safeTimeout(function(){d.update()},null,"DCalendarResize",20)});e.ready(function(){d.init(true)});return JC.DCalendar})}(typeof define==="function"&&define.amd?define:function(b,a,c){typeof b=="function"&&(c=b);typeof a=="function"&&(c=a);c&&c()},window));