(function(b,a){b(["JC.BaseMVC"],function(){(function(d){window.Bizs=window.Bizs||{};Bizs.MoneyTips=c;function c(e){e&&(e=d(e));if(c.getInstance(e)){return c.getInstance(e)}c.getInstance(e,this);this._model=new c.Model(e);this._view=new c.View(this._model);this._init();JC.log("MoneyTips inited",new Date().getTime())}c.getInstance=function(e,f){if(typeof e=="string"&&!/</.test(e)){e=d(e)}if(!(e&&e.length)||(typeof e=="string")){return}typeof f!="undefined"&&e.data(c.Model._instanceName,f);return e.data(c.Model._instanceName)};c.init=function(e){var f=[];e=d(e||document);if(e&&e.length){if(e.hasClass(".js_bizMoneyTips")){f.push(new c(e))}else{e.find("input.js_bizMoneyTips").each(function(){f.push(new c(d(this)))})}}return f};c.prototype={_beforeInit:function(){},_initHanlderEvent:function(){var e=this;e._model.selector().on("focus blur ",function(f){JC.log("focus or blur",new Date().getTime());e.trigger("BMTUpdate",[e._model.selector().val().trim()])});e._model.selector().bind("input propertychange",function(f){JC.log("input or propertychange",new Date().getTime());e.trigger("BMTUpdate",[e._model.selector().val().trim()])});e.on("BMTUpdate",function(g,i){var h=i,i=JC.f.parseFinance(h),f;if(isNaN(i)||!i){e._view.update();return}f=JC.f.moneyFormat(h);e._view.update(f)})},_inited:function(){var e=this;e.trigger("BMTUpdate",[e._model.selector().val().trim()])},update:function(e){this.trigger("BMTUpdate",[e||""]);return this}};BaseMVC.buildModel(c);c.Model._instanceName="MoneyTips";c.Model.prototype={init:function(){},bmtDisplayLabel:function(){this._bmtDisplayLabel=this._bmtDisplayLabel||this.selectorProp("bmtDisplayLabel");if(!(this._bmtDisplayLabel&&this._bmtDisplayLabel.length)){this._bmtDisplayLabel=d('<span class="js_bmtSpan"></span>');this.selector().after(this._bmtDisplayLabel)}return this._bmtDisplayLabel},bmtPattern:function(){var e=this.attrProp("bmtPattern")||"{0}";return e}};BaseMVC.buildView(c);c.View.prototype={init:function(){},show:function(){this._model.bmtDisplayLabel().show()},hide:function(){this._model.bmtDisplayLabel().hide()},update:function(f){var e=this;if(!f){e.hide()}else{e._model.bmtDisplayLabel().html(JC.f.printf(e._model.bmtPattern(),f));e.show()}}};BaseMVC.build(c,"Bizs");d(document).ready(function(){var e=0;c.autoInit&&(e=c.init())});d(document).delegate("input.js_bizMoneyTips","focus click",function(e){!c.getInstance(d(this))&&new c(d(this))})}(jQuery));return Bizs.MoneyTips})}(typeof define==="function"&&define.amd?define:function(b,a,c){typeof b=="function"&&(c=b);typeof a=="function"&&(c=a);c&&c()},window));