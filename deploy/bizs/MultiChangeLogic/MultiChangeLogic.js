(function(b,a){b(["JC.BaseMVC"],function(){var e=$(document),d=$(window);JC.MultiChangeLogic=c;function c(f){f&&(f=$(f));if(JC.BaseMVC.getInstance(f,c)){return JC.BaseMVC.getInstance(f,c)}JC.BaseMVC.getInstance(f,c,this);this._model=new c.Model(f);this._view=new c.View(this._model);this._init()}c.init=function(f){var g=[];f=$(f||document);if(f.length){if(f.hasClass("js_bizsMultiChangeLogic")){g.push(new c(f))}else{f.find(".js_bizsMultiChangeLogic").each(function(){g.push(new c(this))})}}return g};JC.BaseMVC.build(c);JC.f.extendObject(c.prototype,{_beforeInit:function(){},_initHanlderEvent:function(){var g=this,f;g._model.bclTrigger().on("change",function(){var i=g._model.bclChangeCleanTarget(),h=$(this);if(i.length){$.each(i,function(){var j=$(this);if(/(input|textarea|select)/i.test(j.prop("nodeName").toLowerCase())){j.val("")}else{j.html("")}})}g.trigger("itemchange",[h])});g.on("itemchange",function(k,n){var l=n,h,j,m=g._model.isDisable(l),i=g._model.isDisplay(l);g._model.bclHideTarget().each(function(){var o=$(this);o[i?"show":"hide"]()});g._model.bclDisabledTarget().each(function(){var o=$(this);o.prop("disabled",m)});if(l.attr("bclselfdisplaytarget")){h=$(JC.f.parentSelector(n,l.attr("bclselfdisplaytarget")));$.each(h,function(){$(this).show()});if(l.attr("bclselfhidetarget")){j=$(JC.f.parentSelector(n,l.attr("bclselfhidetarget")));if(j.length){$.each(j,function(){var o=$(this);o.hide()})}}}if(l.attr("bclselfdisplayscript")){h=JC.f.scriptContent(l.attr("bclselfdisplayscript"));g._model.bclHideScriptBox()&&$(g._model.bclHideScriptBox()).html(h)}});g.on("checkboxchange",function(h,i){});if(g._model.bclTriggerChangeOnInit()){(f=g._model.bclTrigger(true))&&(!f.prop("disabled"))&&(f.trigger("change"))}},_inited:function(){JC.log("_inited:",new Date().getTime())}});c.Model._instanceName="MultiChangeLogic";JC.f.extendObject(c.Model.prototype,{init:function(){},bclTrigger:function(f){var g=$(JC.f.parentSelector(this.selector(),this.attrProp("bclTrigger")));if(f){$.each(g,function(){var h=$(this);if(h.prop("checked")||h.prop("selected")){g=h;return false}})}return g},bclDisabledTarget:function(){return $(JC.f.parentSelector(this.selector(),this.attrProp("bclDisabledTarget")))},bclHideTarget:function(){var f=$(JC.f.parentSelector(this.selector(),this.attrProp("bclHideTarget")));return f},bclChangeCleanTarget:function(){return $(JC.f.parentSelector(this.selector(),this.attrProp("bclChangeCleanTarget")))},bclTriggerChangeOnInit:function(){var g=true,f=this.selector().attr("bclTriggerChangeOnInit");f&&(g=this.boolProp("bclTriggerChangeOnInit"));return g},bclHideScriptBox:function(){return this.attrProp("bclHideScriptBox")},bclDelimiter:function(g){var f="||";this.selector().is("[bclDelimiter]")&&(f=this.selector().attr("bclDelimiter"));g&&g.is("[bclDelimiter]")&&(f=g.attr("bclDelimiter"));return f},bclDelimeterItem:function(f,g){return f.split(this.bclDelimiter(g))},isDisplay:function(k){var j=this,g=k,i,h=false,f;if(!g.length){return false}if(/(select)/i.test(g.prop("nodeName").toLowerCase())){i=g.find(":selected");if(!i.length){return false}if(g.attr("bcldisplay")){h=j.bclDelimeterItem(g.attr("bcldisplay"),g).indexOf(g.val())>-1}if(i.attr("bcldisplay")){h=JC.f.parseBool(i.attr("bcldisplay"))}}else{if(j.attrProp("bcldisplay")){h=j.bclDelimeterItem(j.attrProp("bcldisplay"),j.selector()).indexOf(g.val())>-1}f=g.attr("bcldisplay");f&&(h=JC.f.parseBool(f))}return h},isDisable:function(j){var i=this,f=j,h,g=false;if(!f.length){return false}if(/(select)/i.test(f.prop("nodeName").toLowerCase())){h=f.find(":selected");if(!h.length){return false}if(f.attr("bcldisabled")){g=i.bclDelimeterItem(f.attr("bcldisabled"),f).indexOf(f.val())>-1}if(h.attr("bcldisabled")){g=JC.f.parseBool(h.attr("bcldisabled"))}}else{if(i.attrProp("bcldisabled")){g=i.bclDelimeterItem(i.attrProp("bcldisabled"),i.selector()).indexOf(f.val())>-1}if(f.attr("bcldisabled")){g=JC.f.parseBool(f.attr("bcldisabled"))}}return g}});JC.f.extendObject(c.View.prototype,{init:function(){}});e.ready(function(){c.autoInit&&c.init()});return JC.MultiChangeLogic})}(typeof define==="function"&&define.amd?define:function(b,a,c){typeof b=="function"&&(c=b);typeof a=="function"&&(c=a);c&&c()},window));